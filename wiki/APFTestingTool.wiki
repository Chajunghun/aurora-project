==APF测试工具安装==

1. SVC checkout aurora.testcase.`*` 并打成jar包部署在web server中

2. 在web.xml中增加以下配置：

{{{
	<listener>
		<listener-class>org.lwap.application.WebContextInit</listener-class>
	</listener>
	<servlet>
		<servlet-name>resource</servlet-name>
		<servlet-class>aurora.presentation.ResourceDispatchServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>resource</servlet-name>
		<url-pattern>/resource/*</url-pattern>
	</servlet-mapping>
}}}

3. 在uncertain.xml中，添加

{{{
		<package-mapping packageName="aurora.presentation"/>
}}}

4. 在WEB-INF目录创建presentation-manager.config文件

{{{
<?xml version="1.0" encoding="UTF-8"?>
<p:presentation-manager xmlns:p="aurora.presentation">
	<packages>
		<p:package-path path="<第一步中checkout到本地的目录>aurora\testcase\ui" />
	</packages>
</p:presentation-manager>
}}}

5. 现在可以在web目录下创建service文件，将APF控件放在<screen>部分，进行测试。

{{{
<?xml version="1.0" encoding="UTF-8"?>
<service trace="true">
	<static-model>
		<employee name="Johnson" address="someplace" deptid="20"/>
		<depts>
			<option name="Sales" value="10"/>
			<option name="Development" value="20"/>
			<option name="Finance" value="30"/>
		</depts>
	</static-model>
	<screen name="employee_form" package="aurora.testcase.ui" datamodel="employee">
		<textedit name="name" datafield="/model/employee/@name"/>
		<textedit name="address" datafield="/model/employee/@address" class="textedit.normal" enabled="false" viewObject="aaa.a.a" onclick="alert('test!');"/>
		<textarea name="memo" rows="7"/>
		<select datasource="/model/depts" name="deptid" displayfield="@name" valuefield="@value" datafield="/model/employee/@deptid">
			<options>
				<record value="0" prompt="All"/>
			</options>
		</select>
	</screen>
</service>
}}}