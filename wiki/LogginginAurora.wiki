#summary Aurora日志输出和查看
#labels document

== 简介 ==

Aurora的日志启用和查看，都将在登录系统后直接操作即可，不再需要修改页面源码，以加快跟踪、调式和纠错整个流程。

== 安装 ==

 * 从[http://www.aurora-framework.org/release/ aurora-framework]上下载2011-9-1后的aurora.jar版本
 * 打开[web-home]/WEB-INF/service-logging.config,在service-logging标签中，添加enablePerServiceConfig="true"，如
{{{
<ns1:service-logging xmlns:ns1="aurora.application.features" 
append="false" defaultLogLevel="FINE" 
enablePerServiceConfig="true" 
logPath="[web-home]\logs" pattern="_${/session/@session_id}_">
}}}

==启用日志==
 * 登录系统
 * 打开modules/sys/sys_log.screen,这个页面分为两个标签页。分别是系统标签和明细标签页。
   * 系统标签页分为两个部分，一个是单独对某个文件进行启用管理，另一个是对所有文件进行启用管理
    * 单独文件启用
      * 如果是screen：那么文件路径就是整个screen文件相对于[web-home]目录的值。譬如：modules/sys/sys_user.screen
      * 如果是bm：那么文件路径就是bm文件相对于[web-home]/WEB-INF/classes的相对值+操作值，其中把目录分隔符以.代替，并去掉文件后缀。譬如需要监听classes/sys/sys_user.bm的查询操作，就输入sys.sys_user_query。在aurora系统中，目前支持query、update、insert、delete、batch_update、execute。
    * 系统启用 所有文件访问都会输出日志
   * 明细标签分为screen、svc和bm，点击查询后，会把所有的相关文件，以及它的日志启用状态查询出来。另提供了一个清除所有配置的按钮，可以一键清除所有设置过的日志，包括screen、svc和bm。
==查看当前页面日志==
 进入系统后，打开需要查看的日志的页面，在工具栏上点击“系统日志”一栏，在弹出的窗口中会显示当前打开的screen文件清单。可以对这些文件管理是否启用日志，有日志文件的screen，可以点击日志查看，直接在线查看日志内容。